"use strict";(self.webpackChunkprogramming_support_courses=self.webpackChunkprogramming_support_courses||[]).push([[4306],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},s=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(r),m=a,f=u["".concat(p,".").concat(m)]||u[m]||d[m]||i;return r?n.createElement(f,o(o({ref:t},s),{},{components:r})):n.createElement(f,o({ref:t},s))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},8615:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const i={},o=void 0,l={unversionedId:"TDs/S2/operators",id:"TDs/S2/operators",title:"operators",description:"L'id\xe9e de ce TD est de reprendre le TD08 du premier semestre est d'am\xe9liorer notre structure Fraction en utilisant la surcharge d'op\xe9rateurs.",source:"@site/content/TDs/S2/01_operators.md",sourceDirName:"TDs/S2",slug:"/TDs/S2/operators",permalink:"/Learn--cpp_programming/TDs/S2/operators",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{}},p={},c=[{value:"Exercice 1 (op\xe9rations)",id:"exercice-1-op\xe9rations",level:2},{value:"Exercice 2 (affichage)",id:"exercice-2-affichage",level:2},{value:"Exercice 3 (\xe9galit\xe9)",id:"exercice-3-\xe9galit\xe9",level:2},{value:"Exercice 4 (comparaison)",id:"exercice-4-comparaison",level:2},{value:"Exercice 5 (op\xe9rations d&#39;affectation)",id:"exercice-5-op\xe9rations-daffectation",level:2},{value:"Exercice 7 (conversion)",id:"exercice-7-conversion",level:2},{value:"Aller plus loin",id:"aller-plus-loin",level:2}],s={toc:c},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"L'id\xe9e de ce TD est de reprendre le ",(0,a.kt)("strong",{parentName:"p"},"TD08")," du premier semestre est d'am\xe9liorer notre structure ",(0,a.kt)("inlineCode",{parentName:"p"},"Fraction")," en utilisant la ",(0,a.kt)("strong",{parentName:"p"},"surcharge d'op\xe9rateurs"),"."),(0,a.kt)("p",null,"Reprendre les fichiers ",(0,a.kt)("inlineCode",{parentName:"p"},"fraction.hpp"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"fraction.cpp"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"utils.hpp")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"utils.cpp")," du TD08 du premier semestre."),(0,a.kt)("h2",{id:"exercice-1-op\xe9rations"},"Exercice 1 (op\xe9rations)"),(0,a.kt)("p",null,"Transformer les m\xe9thodes ",(0,a.kt)("inlineCode",{parentName:"p"},"add"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"sub"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"mul")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"div")," en surcharge des op\xe9rateurs ",(0,a.kt)("inlineCode",{parentName:"p"},"+"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"-"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"*")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"/")," pour pouvoir utiliser les op\xe9rateurs avec des fractions."),(0,a.kt)("p",null,"On peut appliquer une simplification sur les fractions retourn\xe9es par les op\xe9rateurs pour \xe9viter d'avoir des fractions non simplifi\xe9es."),(0,a.kt)("h2",{id:"exercice-2-affichage"},"Exercice 2 (affichage)"),(0,a.kt)("p",null,"Transformer la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"display")," en surcharge de l'op\xe9rateur ",(0,a.kt)("inlineCode",{parentName:"p"},"<<")," pour pouvoir afficher une fraction avec ",(0,a.kt)("inlineCode",{parentName:"p"},"std::cout"),"."),(0,a.kt)("h2",{id:"exercice-3-\xe9galit\xe9"},"Exercice 3 (\xe9galit\xe9)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ajouter l'op\xe9rateur ",(0,a.kt)("inlineCode",{parentName:"li"},"==")," pour comparer deux fractions."),(0,a.kt)("li",{parentName:"ul"},"Ajouter l'op\xe9rateur ",(0,a.kt)("inlineCode",{parentName:"li"},"!=")," en se basant sur l'op\xe9rateur ",(0,a.kt)("inlineCode",{parentName:"li"},"=="),".")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Attention, cela ne fonctionnera pas si on compare deux fractions non simplifi\xe9es. (ex: ",(0,a.kt)("inlineCode",{parentName:"p"},"1/2 == 2/4"),") Une autre solution serait de simplifier les fractions dans l'op\xe9rateur avant de les comparer."),(0,a.kt)("p",{parentName:"admonition"},"Il existe une autre fa\xe7on de faire en comparant les produits en croix des fractions. (ex: ",(0,a.kt)("inlineCode",{parentName:"p"},"a/b == d/c")," <=> ",(0,a.kt)("inlineCode",{parentName:"p"},"a * c == b * d"),")")),(0,a.kt)("h2",{id:"exercice-4-comparaison"},"Exercice 4 (comparaison)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ajouter l'op\xe9rateur ",(0,a.kt)("inlineCode",{parentName:"li"},"<")," pour comparer deux fractions."),(0,a.kt)("li",{parentName:"ul"},"Ajouter les op\xe9rateurs ",(0,a.kt)("inlineCode",{parentName:"li"},"<="),", ",(0,a.kt)("inlineCode",{parentName:"li"},">")," et ",(0,a.kt)("inlineCode",{parentName:"li"},">=")," en se basant sur l'op\xe9rateur ",(0,a.kt)("inlineCode",{parentName:"li"},"<"),".")),(0,a.kt)("h2",{id:"exercice-5-op\xe9rations-daffectation"},"Exercice 5 (op\xe9rations d'affectation)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Transformer les m\xe9thodes ",(0,a.kt)("inlineCode",{parentName:"li"},"add"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"sub"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"mul")," et ",(0,a.kt)("inlineCode",{parentName:"li"},"div")," en surcharge des op\xe9rateurs d'affectation ",(0,a.kt)("inlineCode",{parentName:"li"},"+="),", ",(0,a.kt)("inlineCode",{parentName:"li"},"-="),", ",(0,a.kt)("inlineCode",{parentName:"li"},"*=")," et ",(0,a.kt)("inlineCode",{parentName:"li"},"/=")," "),(0,a.kt)("li",{parentName:"ul"},"R\xe9\xe9crire les op\xe9rateurs ",(0,a.kt)("inlineCode",{parentName:"li"},"+"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"-"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"*")," et ",(0,a.kt)("inlineCode",{parentName:"li"},"/")," en utilisant les op\xe9rateurs affectation afin d'\xe9viter de dupliquer le code.")),(0,a.kt)("h2",{id:"exercice-7-conversion"},"Exercice 7 (conversion)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"D\xe9finir et impl\xe9menter une m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"li"},"to_float")," qui retourne la valeur de la fraction sous forme de ",(0,a.kt)("inlineCode",{parentName:"li"},"float"),".")),(0,a.kt)("p",null,"Il est aussi possible de d\xe9finir des op\xe9rateurs de conversion pour convertir une fraction en un autre type."),(0,a.kt)("p",null,"la syntaxe est la suivante:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"operator type() const {\n    // code de conversion\n}\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Ajouter l'op\xe9rateur de conversion ",(0,a.kt)("inlineCode",{parentName:"li"},"float")," pour pouvoir convertir une fraction en ",(0,a.kt)("inlineCode",{parentName:"li"},"float"),".")),(0,a.kt)("p",null,"le prototype de la m\xe9thode pour notre structure ",(0,a.kt)("inlineCode",{parentName:"p"},"Fraction")," sera le suivant:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"Fraction::operator float() const;\n")),(0,a.kt)("p",null,"Gr\xe2ce \xe0 cet op\xe9rateur, on pourra convertir une fraction en ",(0,a.kt)("inlineCode",{parentName:"p"},"float")," de la mani\xe8re suivante:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"Fraction f1 {1, 2};\ndouble d1 {static_cast<double>(f1)}; // conversion explicite avec static_cast\n")),(0,a.kt)("h2",{id:"aller-plus-loin"},"Aller plus loin"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Ajouter des fonction libres pour les op\xe9rateurs ",(0,a.kt)("inlineCode",{parentName:"p"},"+"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"-"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"*")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"/")," afin de pouvoir faire des op\xe9rations avec des fractions et des entiers.\nexemple: ",(0,a.kt)("inlineCode",{parentName:"p"},"Fraction f1 {1, 2}; int i1 {2}; Fraction f2 {f1 + i1};")),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-cpp"}," Fraction operator+(const Fraction& f, int i);\n")),(0,a.kt)("p",{parentName:"li"}," :::tip\nPour que ce soit commutatif, il faut aussi d\xe9finir la fonction avec l'entier en premier param\xe8tre. R\xe9utiliser la fonction pr\xe9c\xe9dente pour \xe9viter de dupliquer le code.\n:::"))),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Ajouter des m\xe9thodes pour appliquer des ",(0,a.kt)("strong",{parentName:"li"},"op\xe9rations math\xe9matiques")," sur les fractions.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"abs"),": valeur absolue"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ceil"),": arrondi sup\xe9rieur"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"floor"),": arrondi inf\xe9rieur"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"round"),": arrondi")))))}d.isMDXComponent=!0}}]);