"use strict";(self.webpackChunkprogramming_support_courses=self.webpackChunkprogramming_support_courses||[]).push([[1255],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>b});var i=n(7294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var o=i.createContext({}),u=function(e){var t=i.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return i.createElement(o.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,s=e.mdxType,l=e.originalType,o=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),p=u(n),m=s,b=p["".concat(o,".").concat(m)]||p[m]||d[m]||l;return n?i.createElement(b,r(r({ref:t},c),{},{components:n})):i.createElement(b,r({ref:t},c))}));function b(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var l=n.length,r=new Array(l);r[0]=m;var a={};for(var o in t)hasOwnProperty.call(t,o)&&(a[o]=t[o]);a.originalType=e,a[p]="string"==typeof e?e:s,r[1]=a;for(var u=2;u<l;u++)r[u]=n[u];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3100:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>u});var i=n(7462),s=(n(7294),n(3905));const l={title:"Utiliser des biblioth\xe8ques",tags:["C++"]},r=void 0,a={unversionedId:"Lessons/S2/Libraries",id:"Lessons/S2/Libraries",title:"Utiliser des biblioth\xe8ques",description:"Une des grandes forces de C++ est la possibilit\xe9 d'utiliser des biblioth\xe8ques. Une biblioth\xe8que est un ensemble de fonctions et de classes qui permettent de r\xe9aliser des t\xe2ches sp\xe9cifiques. Il existe des biblioth\xe8ques pour \xe0 peu pr\xe8s tout : afficher des images, jouer des sons, faire des calculs math\xe9matiques, etc.",source:"@site/content/Lessons/S2/Libraries.md",sourceDirName:"Lessons/S2",slug:"/Lessons/S2/Libraries",permalink:"/Learn--cpp_programming/Lessons/S2/Libraries",draft:!1,tags:[{label:"C++",permalink:"/Learn--cpp_programming/tags/c"}],version:"current",frontMatter:{title:"Utiliser des biblioth\xe8ques",tags:["C++"]}},o={},u=[{value:"Fonctionnement d&#39;une biblioth\xe8que",id:"fonctionnement-dune-biblioth\xe8que",level:2},{value:"Statique ou dynamique",id:"statique-ou-dynamique",level:3},{value:"Header only",id:"header-only",level:3},{value:"Debug ou release",id:"debug-ou-release",level:3},{value:"Inclusion d&#39;une biblioth\xe8que",id:"inclusion-dune-biblioth\xe8que",level:2},{value:"Gestionnaire de d\xe9pendances",id:"gestionnaire-de-d\xe9pendances",level:3},{value:"Inclusion manuelle",id:"inclusion-manuelle",level:3},{value:"CMake FetchContent",id:"cmake-fetchcontent",level:3},{value:"Glm",id:"glm",level:2},{value:"Cmake",id:"cmake",level:3}],c={toc:u},p="wrapper";function d(e){let{components:t,...n}=e;return(0,s.kt)(p,(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Une des grandes forces de C++ est la possibilit\xe9 d'utiliser des biblioth\xe8ques. Une biblioth\xe8que est un ensemble de fonctions et de classes qui permettent de r\xe9aliser des t\xe2ches sp\xe9cifiques. Il existe des biblioth\xe8ques pour \xe0 peu pr\xe8s tout : afficher des images, jouer des sons, faire des calculs math\xe9matiques, etc."),(0,s.kt)("p",null,"Nous avons d\xe9j\xe0 utilis\xe9 une biblioth\xe8que : la biblioth\xe8que standard. C'est une biblioth\xe8que qui est incluse par d\xe9faut dans tous les compilateurs C++. Elle contient des fonctions et des classes pour r\xe9aliser des t\xe2ches de base, comme afficher du texte \xe0 l'\xe9cran, lire des donn\xe9es au clavier, etc."),(0,s.kt)("p",null,"Dans ce chapitre, nous allons voir comment utiliser des biblioth\xe8ques externes, c'est-\xe0-dire des biblioth\xe8ques qui ne sont pas incluses par d\xe9faut dans le compilateur. Nous allons voir comment les inclure dans notre programme, et comment utiliser les fonctions et les classes qu'elles contiennent."),(0,s.kt)("h2",{id:"fonctionnement-dune-biblioth\xe8que"},"Fonctionnement d'une biblioth\xe8que"),(0,s.kt)("p",null,"La plupart des biblioth\xe8ques sont constitu\xe9es de la m\xeame fa\xe7on : elles contiennent un ensemble de ",(0,s.kt)("strong",{parentName:"p"},"fichiers d'en-t\xeate")," (extension ",(0,s.kt)("inlineCode",{parentName:"p"},".h")," ou ",(0,s.kt)("inlineCode",{parentName:"p"},".hpp"),") et un ensemble de ",(0,s.kt)("strong",{parentName:"p"},"fichiers objets"),".\nLes premiers contiennent les d\xe9clarations et sont utile pour l'\xe9tape de compilation, les seconds contiennent les d\xe9finitions et sont utiles pour l'\xe9tape de ",(0,s.kt)("strong",{parentName:"p"},"linkage"),"."),(0,s.kt)("h3",{id:"statique-ou-dynamique"},"Statique ou dynamique"),(0,s.kt)("p",null,"Les fichiers objets d'une biblioth\xe8que peuvent \xeatre de deux types : ",(0,s.kt)("strong",{parentName:"p"},"statiques")," ou ",(0,s.kt)("strong",{parentName:"p"},"dynamiques"),"."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Lorsque l'on compile un programme qui utilise une biblioth\xe8que ",(0,s.kt)("strong",{parentName:"li"},"statique"),", le compilateur va inclure les d\xe9finitions de la biblioth\xe8que (\xe0 l'aide des fichiers objets statiques) ",(0,s.kt)("strong",{parentName:"li"},"dans le fichier ex\xe9cutable")," au moment de l'\xe9tape de linkage. Cela signifie que le fichier ex\xe9cutable sera plus gros, mais il n'aura pas besoin de la biblioth\xe8que pour s'ex\xe9cuter."),(0,s.kt)("li",{parentName:"ul"},"Avec une biblioth\xe8que ",(0,s.kt)("strong",{parentName:"li"},"dynamique"),", le fichier objet de la biblioth\xe8que n'est pas inclus dans le fichier ex\xe9cutable. Au lieu de cela, le fichier ex\xe9cutable contient des ",(0,s.kt)("strong",{parentName:"li"},"r\xe9f\xe9rences")," aux fonctions et aux classes de la biblioth\xe8que. C'est seulement au moment de l'ex\xe9cution que la biblioth\xe8que est charg\xe9e que l'on fait les correspondances entre les r\xe9f\xe9rences et les d\xe9finitions. Cela signifie que le ",(0,s.kt)("strong",{parentName:"li"},"fichier ex\xe9cutable")," sera ",(0,s.kt)("strong",{parentName:"li"},"plus petit"),", mais il aura besoin de la biblioth\xe8que pour s'ex\xe9cuter. L'avantage est que plusieurs programmes peuvent utiliser le m\xeame fichier de biblioth\xe8que en m\xe9moire. l\u2019inconvenant et qu'il faut que la biblioth\xe8que soit pr\xe9sente sur le syst\xe8me d'exploitation ou il faut fournir le fichier de biblioth\xe8que avec le programme (g\xe9n\xe9ralement dans le m\xeame dossier que l'ex\xe9cutable).")),(0,s.kt)("h3",{id:"header-only"},"Header only"),(0,s.kt)("p",null,"Certaines biblioth\xe8ques ne contiennent que des fichiers d'en-t\xeate. Cela signifie que les d\xe9clarations et les d\xe9finitions sont dans les m\xeames fichiers. Ces biblioth\xe8ques sont appel\xe9es ",(0,s.kt)("strong",{parentName:"p"},"header only"),". Elles sont tr\xe8s faciles \xe0 utiliser, car il suffit de les inclure dans le programme pour pouvoir les utiliser."),(0,s.kt)("h3",{id:"debug-ou-release"},"Debug ou release"),(0,s.kt)("p",null,"Une biblioth\xe8que peut \xeatre compil\xe9e en mode ",(0,s.kt)("strong",{parentName:"p"},"debug")," ou en mode ",(0,s.kt)("strong",{parentName:"p"},"release"),". En mode debug, la biblioth\xe8que contient des informations suppl\xe9mentaires qui permettent de d\xe9boguer le programme (cela s\u2019accompagne parfois d'un fichier suppl\xe9mentaire avec les informations de d\xe9bogage). En mode release, la biblioth\xe8que est optimis\xe9e pour la performance."),(0,s.kt)("h2",{id:"inclusion-dune-biblioth\xe8que"},"Inclusion d'une biblioth\xe8que"),(0,s.kt)("h3",{id:"gestionnaire-de-d\xe9pendances"},"Gestionnaire de d\xe9pendances"),(0,s.kt)("p",null,"Il existe plusieurs fa\xe7ons d'inclure une biblioth\xe8que dans un programme. La plus simple est d'utiliser un ",(0,s.kt)("strong",{parentName:"p"},"gestionnaire de d\xe9pendances")," comme sur ",(0,s.kt)("strong",{parentName:"p"},"Linux")," (apt, pacman, etc.) .\nC'est une des raisons pour lesquelles certains d\xe9veloppeurs pr\xe9f\xe8rent utiliser Linux plut\xf4t que Windows. Il existe des alternatives pour Windows, comme ",(0,s.kt)("em",{parentName:"p"},"vcpkg")," ou ",(0,s.kt)("em",{parentName:"p"},"conan")," mais ce n'est pas aussi simple que sur Linux."),(0,s.kt)("h3",{id:"inclusion-manuelle"},"Inclusion manuelle"),(0,s.kt)("p",null,"Sans gestionnaire de d\xe9pendances il est toujours possible d'inclure une biblioth\xe8que manuellement. Il faut d'abord t\xe9l\xe9charger la biblioth\xe8que et la d\xe9compresser dans un dossier. Ensuite, il faut indiquer au compilateur o\xf9 se trouve la biblioth\xe8que et o\xf9 se trouvent les fichiers d'en-t\xeate."),(0,s.kt)("p",null,"Parfois certaines biblioth\xe8que utilise \xe9galement cmake pour faciliter l'inclusion de la biblioth\xe8que dans un projet. Dans ce cas on peut simplement indiquer le dossier de la biblioth\xe8que \xe0 cmake et il se chargera de tout. "),(0,s.kt)("h3",{id:"cmake-fetchcontent"},"CMake FetchContent"),(0,s.kt)("p",null,"Pour les biblioth\xe8ques qui ne sont pas disponible sur le syst\xe8me d'exploitation ou qui ne sont pas disponible sur un gestionnaire de d\xe9pendance, il est possible d'utiliser ",(0,s.kt)("a",{parentName:"p",href:"https://cmake.org/cmake/help/latest/module/FetchContent.html"},"FetchContent")," de CMake. Cela permet de t\xe9l\xe9charger la biblioth\xe8que et de l'inclure dans le projet sans avoir \xe0 la t\xe9l\xe9charger manuellement."),(0,s.kt)("h2",{id:"glm"},"Glm"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://glm.g-truc.net/0.9.9/index.html"},"Glm")," est une biblioth\xe8que qui contient des classes et des fonctions pour faire des calculs math\xe9matiques. Elle est tr\xe8s utile pour faire des calculs en ",(0,s.kt)("strong",{parentName:"p"},"2D")," et en ",(0,s.kt)("strong",{parentName:"p"},"3D"),", comme par exemple des ",(0,s.kt)("strong",{parentName:"p"},"rotations"),", des ",(0,s.kt)("strong",{parentName:"p"},"translations"),", des projections, etc."),(0,s.kt)("p",null,"Glm est une biblioth\xe8que ",(0,s.kt)("strong",{parentName:"p"},"header only"),". Cela signifie que les d\xe9clarations et les d\xe9finitions sont dans les m\xeames fichiers. Il suffit donc de les inclure dans le programme pour pouvoir utiliser la biblioth\xe8que."),(0,s.kt)("h3",{id:"cmake"},"Cmake"),(0,s.kt)("p",null,"Pour inclure glm dans un projet cmake, il suffit d'ajouter les lignes suivantes dans le fichier ",(0,s.kt)("inlineCode",{parentName:"p"},"CMakeLists.txt")," :"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"FetchContent_Declare(\n    glm\n    GIT_REPOSITORY\n")))}d.isMDXComponent=!0}}]);