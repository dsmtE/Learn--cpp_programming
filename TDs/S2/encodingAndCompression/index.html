<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-TDs/S2/encodingAndCompression" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">TD8 - Encodage et compression | Cours de programmation C++</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dsmte.github.io/Learn--cpp_programming/TDs/S2/encodingAndCompression"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TD8 - Encodage et compression | Cours de programmation C++"><meta data-rh="true" name="description" content="Exercice 1 (Run-length encoding)"><meta data-rh="true" property="og:description" content="Exercice 1 (Run-length encoding)"><link data-rh="true" rel="icon" href="/Learn--cpp_programming/imgs/favicon.ico"><link data-rh="true" rel="canonical" href="https://dsmte.github.io/Learn--cpp_programming/TDs/S2/encodingAndCompression"><link data-rh="true" rel="alternate" href="https://dsmte.github.io/Learn--cpp_programming/TDs/S2/encodingAndCompression" hreflang="fr"><link data-rh="true" rel="alternate" href="https://dsmte.github.io/Learn--cpp_programming/TDs/S2/encodingAndCompression" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"><link rel="stylesheet" href="/Learn--cpp_programming/assets/css/styles.7d1901a1.css">
<script src="/Learn--cpp_programming/assets/js/runtime~main.8390cba9.js" defer="defer"></script>
<script src="/Learn--cpp_programming/assets/js/main.b013547a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"> <div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Learn--cpp_programming/"><div class="navbar__logo"><img src="/Learn--cpp_programming/imgs/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Learn--cpp_programming/imgs/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/Learn--cpp_programming/Lessons">Cours</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Learn--cpp_programming/TDs">TDs</a><a class="navbar__item navbar__link" href="/Learn--cpp_programming/Annexes">Annexes</a><a class="navbar__item navbar__link" href="/Learn--cpp_programming/Workshop">Workshop</a><a class="navbar__item navbar__link" href="/Learn--cpp_programming/Annals">Annales</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Learn--cpp_programming/Sources">Sources</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/Learn--cpp_programming/TDs">TDs</a><button aria-label="Réduire la catégorie &#x27;TDs&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Learn--cpp_programming/TDs/S1/Setup">S1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/Learn--cpp_programming/TDs/S2/operators">S2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/operators">TD1 - Opérateurs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/sorting">TD2 - Algorithmes de tri</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/dataStructures">TD3 - Structures de données</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/AutoAndAlgorithm">TD4 - Déduction de type et bibliothèque standard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/hashAndAssociativeTables">TD5 - Hachage et tableaux associatifs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/binaryTree">TD6 - Arbres binaires</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Learn--cpp_programming/TDs/S2/graphs">TD7 - Graphes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Learn--cpp_programming/TDs/S2/encodingAndCompression">TD8 - Encodage et compression</a></li></ul></li></ul></li></ul></nav><button type="button" title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/Learn--cpp_programming/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/Learn--cpp_programming/TDs"><span itemprop="name">TDs</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">S2</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TD8 - Encodage et compression</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>TD8 - Encodage et compression</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercice-1-run-length-encoding">Exercice 1 (Run-length encoding)<a href="#exercice-1-run-length-encoding" class="hash-link" aria-label="Lien direct vers Exercice 1 (Run-length encoding)" title="Lien direct vers Exercice 1 (Run-length encoding)">​</a></h2>
<ol>
<li>
<p>Écrire une fonction qui prend en paramètre une chaîne de caractères composée uniquement de caractères alphabétiques et qui retourne une chaîne de caractères encodée en utilisant le <a href="/Learn--cpp_programming/Lessons/S2/EncodingAndCompression#codage-par-plages-run-length-encoding"><strong>run-length encoding</strong></a>.</p>
<p>Par exemple, si la chaîne de caractères en entrée est <code>AAAABBBCCDAA</code>, la chaîne de caractères encodée est <code>4A3B2C1D2A</code>.</p>
</li>
<li>
<p>Écrire une fonction qui prend en paramètre une chaîne de caractères encodée en utilisant le <strong>run-length encoding</strong> et qui retourne la chaîne de caractères décodée.</p>
</li>
<li>
<p>Améliorer la fonction précédente pour qu&#x27;elle puisse décoder une chaîne de caractères même si cette chaîne de caractères contient des nombres à plusieurs chiffres.</p>
<p>Par exemple, si la chaîne de caractères en entrée est <code>12A3B2C1D2A</code>, la chaîne de caractères décodée est <code>AAAAAAAAAAAABBBCCDAA</code>.</p>
</li>
<li>
<p>Écrire une fonction qui permet d&#x27;encoder en utilisant un caractère spécial (<strong>caractère de contrôle</strong>) suivit d&#x27;un <strong>nombre</strong> pour indiquer le nombre de fois qu&#x27;un caractère doit être répété.</p>
<p>Par exemple, en se donnant le caractère de contrôle <code>*</code>, si la chaîne de caractères en entrée est <code>AAAABBBCCDAA</code>, la chaîne de caractères encodée est <code>*4A*3B*2CD*2A</code>.</p>
</li>
<li>
<p>Améliorer la fonction précédente pour rendre le caractère de contrôle paramétrable et retourner la chaîne de caractères originale si la longueur de la chaîne de caractères encodée est plus grande que la chaîne de caractères originale.</p>
</li>
<li>
<p>Écrire une fonction qui permet de décoder une chaîne de caractères encodée en utilisant un caractère de contrôle.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercice-2-huffman-encoding">Exercice 2 (Huffman encoding)<a href="#exercice-2-huffman-encoding" class="hash-link" aria-label="Lien direct vers Exercice 2 (Huffman encoding)" title="Lien direct vers Exercice 2 (Huffman encoding)">​</a></h2>
<ol>
<li>Écrire une fonction <code>frequency</code> qui prend en paramètre une chaîne de caractères et retourne un <code>std::unordered_map&lt;char, size_t&gt;</code> qui associe à chaque caractère le nombre d&#x27;occurrences de ce caractère dans la chaîne de caractères.</li>
</ol>
<p>Donnons nous la structure suivante pour la suite de l&#x27;exercice:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Node</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> character</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size_t frequency</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> left </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">nullptr</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> right </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">nullptr</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>attention</div><div class="admonitionContent_BuS1"><p>Ce warning s&#x27;adresse à ceux qui ont essayé d&#x27;utiliser des <strong>smart pointers</strong> (<code>std::unique_ptr</code>) sur le TD précédent sur les arbres binaires et qui souhaitent continuer à utiliser des smart pointers pour cet exercice.
Ici, on ne veut pas utiliser de <code>std::unique_ptr</code> pour simplifier l&#x27;écriture des fonctions. En effet, l&#x27;utilisation de <code>std::unique_ptr</code> impose de passer par des <code>std::move</code> (notion que l&#x27;on a pas encore vu) pour transférer la propriété d&#x27;un pointeur intelligent. Cela rendrait l&#x27;écriture des fonctions plus complexe et cela nous forcerait même à créer notre propre file de priorité (<code>priority_queue</code>) pour pouvoir les utiliser dans une file de priorité. Ce n&#x27;est pas l&#x27;objet de cet exercice on se limitera donc à des pointeurs classiques.</p></div></div>
<ol start="2">
<li>
<p>Surcharger l&#x27;opérateur <code>&lt;</code> pour la structure <code>Node</code> de telle sorte que l&#x27;opérateur <code>&lt;</code> retourne <code>true</code> si la fréquence du nœud de gauche est inférieure à la fréquence du nœud de droite.</p>
</li>
<li>
<p>Écrire une fonction <code>createNode</code> qui prend en paramètre un caractère et une fréquence et qui retourne un <code>Node*</code>.</p>
</li>
<li>
<p>Écrire une fonction <code>createSymbolNode</code> qui prend en paramètre (par valeur) deux <code>Node*</code> et qui retourne un <code>Node*</code> dont le caractère est <code>0</code> et la fréquence est la somme des fréquences des deux nœuds passés en paramètre et les deux nœuds passés en paramètre sont les fils du nœud retourné.</p>
<blockquote>
<p>Cette fonction va être utilisée pour créer un nœud qui représente un &quot;symbole&quot; (un ensemble de caractères) et qui va être utilisé pour construire l&#x27;arbre de Huffman.</p>
</blockquote>
</li>
<li>
<p>Écrire une fonction <code>build_huffman_tree</code> qui prend en paramètre (<strong>référence constante</strong>) un <code>std::unordered_map&lt;char, size_t&gt;</code> et qui retourne un <code>Node*</code> qui représente l&#x27;arbre de Huffman.</p>
<blockquote>
<p>Cet arbre va être construit en utilisant une <code>std::priority_queue</code> qui va permettre de trier les nœuds (<strong>symboles</strong>) en fonction de leur fréquence.
Pour construire l&#x27;arbre, on va retirer les deux nœuds de plus petite fréquence de la file de priorité, créer un nouveau nœud dont la fréquence est la somme des fréquences des deux nœuds retirés et dont les fils sont les deux nœuds retirés, et ajouter ce nouveau nœud à la file de priorité.</p>
</blockquote>
</li>
<li>
<p>Écrire une fonction <code>build_encoding_table</code> qui prend en paramètre le sommet de l&#x27;arbre de Huffman et qui retourne un <code>std::unordered_map&lt;char, std::string&gt;</code> qui associe à chaque caractère le code de Huffman correspondant.</p>
</li>
</ol>
<blockquote>
<p>Pour construire le code de Huffman, on va parcourir l&#x27;arbre de Huffman en ajoutant un <code>0</code> à une chaîne de caractère à chaque fois qu&#x27;on descend à gauche et un <code>1</code> à chaque fois qu&#x27;on descend à droite. On va s&#x27;arrêter lorsqu&#x27;on arrive à une feuille et on va associer la chaîne de caractère obtenue à la feuille.</p>
</blockquote>
<p>Il faudra utiliser une fonction intermédiaire <code>fill_encoding_table</code> qui prend en paramètre un nœud, la chaîne de caractères associé avec représentation binaire du nœud et qui remplit ta table (<code>std::unordered_map&lt;char, std::string&gt;</code>) passé par référence.
C&#x27;est cette fonction qui va être appelée récursivement pour parcourir l&#x27;arbre de Huffman et remplir la table.</p>
<p>Voila les signatures des fonctions:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fill_encoding_table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node </span><span class="token keyword" style="color:#00009f">const</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">unordered_map</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">char</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> table</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">unordered_map</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">char</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_encoding_table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node </span><span class="token keyword" style="color:#00009f">const</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> root</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="7">
<li>Écrire une fonction <code>encode</code> qui prend en paramètre une chaîne de caractères et un <code>std::unordered_map&lt;char, std::string&gt;</code> et qui retourne une chaîne de caractères représentant la chaîne de caractères encodée en utilisant le code de Huffman.</li>
</ol>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token function" style="color:#d73a49">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">unordered_map</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">char</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> table</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="8">
<li>Écrire une fonction <code>decode</code> qui prend en paramètre une chaîne de caractères encodée en utilisant le code de Huffman et le sommet de l&#x27;arbre de Huffman et qui retourne une chaîne de caractères représentant la chaîne de caractères décodée.</li>
</ol>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token function" style="color:#d73a49">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token keyword" style="color:#00009f">const</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Node </span><span class="token keyword" style="color:#00009f">const</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> huffman_tree_root</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="9">
<li>Écrire une fonction <code>delete_huffman_tree</code> qui prend en paramètre le sommet de l&#x27;arbre de Huffman et qui libère la mémoire allouée pour l&#x27;arbre.</li>
</ol>
<p><strong>Culture - Aller plus loin:</strong></p>
<p>Dans la réalité, on ne souhaite pas encoder le caractères <code>a</code> par une chaîne de caractère (par exemple <code>110</code>). Sinon on se retrouverait avec une chaîne de caractères plus grande que la chaîne de caractères originale. On va plutôt utiliser des <strong>bits</strong>. Par exemple, on va encoder le caractère <code>a</code> par les bits <code>110</code> (soit le nombre <code>6</code> en décimal).</p>
<p>Pour faire cela il faut manipuler des <strong>bits</strong>. En C++, on peut manipuler des bits en utilisant les opérateurs <code>&lt;&lt;</code> (décalage à gauche), <code>&gt;&gt;</code> (décalage à droite), <code>|</code> (ou binaire), <code>&amp;</code> (et binaire), <code>^</code> (ou exclusif binaire), <code>~</code> (non binaire).</p>
<p>Pour ensuite pouvoir écrire en binaire dans un fichier on va utiliser des <strong>octets</strong>. Un octet est un ensemble de 8 bits. En C++, on peut manipuler des octets en utilisant le type <code>unsigned char</code> (ou <code>uint8_t</code>).</p>
<p>Ensuite, au lieu de retourner une chaîne de caractères, on va retourner un <code>std::vector&lt;uint8_t&gt;</code> qui contient les octets composés des bits de chaque caractère mis bout à bout. C&#x27;est un jeu d&#x27;operation binaire et de décalage qui permet de mettre bout à bout les octets pour obtenir la représentation binaire de la chaîne de caractères encodée.</p>
<p>On obtient ensuite un <code>std::vector&lt;uint8_t&gt;</code> qui contient la représentation binaire de la chaîne de caractères encodée. On peut ensuite écrire cet <code>std::vector&lt;uint8_t&gt;</code> dans un fichier.</p>
<hr>
<p>Si l&#x27;on souhaite faire un programme qui compresse de bout en bout une chaîne de caractères dans un fichier, il faut pouvoir écrire dans un fichier la représentation binaire de la chaîne de caractères encodée. Pour cela, on peut utiliser la classe <code>std::ofstream</code> qui permet d&#x27;écrire dans un fichier. Il suffira d&#x27;écrire octet par octet dans le fichier.</p>
<p>Afin, de pouvoir décoder ce fichier, il faut pouvoir lire les octets du fichier et les transformer en une représentation binaire. Cela se fait en utilisant la classe <code>std::ifstream</code> qui permet de lire dans un fichier. Il suffira de lire octet par octet et de transformer chaque octet en une représentation binaire.</p>
<p>Enfin, pour décoder totalement et retrouver la chaîne originale, il faut non seulement avoir la représentation binaire de la chaîne de caractères encodée, mais également avoir l&#x27;arbre de Huffman pour pouvoir décoder la représentation binaire en caractères et ainsi retrouver la chaîne de caractères originale. Il faudra donc ajouter à ce fichier la représentation de l&#x27;arbre de Huffman pour pouvoir décoder totalement la chaîne de caractères encodée.</p>
<p>Je ne vous demande pas de faire cela, mais c&#x27;est pour vous donner une idée de ce à quoi cela peut servir en pratique et comment cela peut être utilisé.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Learn--cpp_programming/TDs/S2/graphs"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">TD7 - Graphes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#exercice-1-run-length-encoding" class="table-of-contents__link toc-highlight">Exercice 1 (Run-length encoding)</a></li><li><a href="#exercice-2-huffman-encoding" class="table-of-contents__link toc-highlight">Exercice 2 (Huffman encoding)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><span class="footer__link-item">
              <a href="https://discord.com/users/264442459759706112" class="footer__link-item">
                <img src="https://api.iconify.design/skill-icons/discord.svg"> Discord
              </a>
              </span><span class="footer__link-separator">·</span><a href="mailto:desmet.enguerrand@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">E-Mail</a><span class="footer__link-separator">·</span><span class="footer__link-item">
              <a href="https://github.com/dsmtE" class="footer__link-item">
                <img src="https://api.iconify.design/skill-icons/github-dark.svg"> GitHub
              </a>
              </span></div></div><div class="footer__bottom text--center"><div class="footer__copyright">These lessons were written by <a href="https://github.com/dsmtE">DE SMET Enguerrand</a>.<br>Copyright © 2024. Built with <a href="https://docusaurus.io/">Docusaurus</a>.</div></div></div></footer> </div>
</body>
</html>