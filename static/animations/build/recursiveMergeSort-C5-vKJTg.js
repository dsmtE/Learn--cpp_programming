import{M as V,m as X,u as w,r as z,j as n,c as u,L as k,b as Y,R as A,a as L,w as R,E as D,V as q}from"./_virtual_settings-W9jktp4-.js";import{C as i,T as C,t as E,s as S}from"./styles-CIndU-LK.js";import{S as P,b}from"./ArrayConstants-PhubJoph.js";import{r as B,s as H}from"./utils-B3L5ltZ6.js";import{c as G,p as W}from"./motion-BY56HOYq.js";import{u as J}from"./useRandom-BZdmpElt.js";let j;j??(j=new V("recursiveMergeSort",!1));j.loadData({version:0,timeEvents:[],seed:3180500438});const K=j,a={...P};a.boxWidth/=1.2;a.boxGap/=1.5;function N(t,c,m,x,l,s=4*a.outlineMargin,d=2*a.boxWidth,e=1){return[n(k,{ref:x,opacity:e,topLeft:t().bottomLeft().addX(-d/2).addY(s),width:c*b(a)-a.boxGap,height:()=>t().height()}),n(k,{ref:l,opacity:e,topRight:t().bottomRight().addX(d/2).addY(s),width:m*b(a)-a.boxGap,height:()=>t().height()})]}function*I(t,c,m,x,l,s,d=0,e=null){if(m<=1){yield l.stroke(i.green,.5),yield*R(.5);return}yield e==null?void 0:e.save(),yield e==null?void 0:e.stroke(e.stroke().alpha(.3),.3),yield l.stroke(i.blue,.3);let f=Math.floor(m/2);const o=u(),M=u(),y=u(),h=u();t.add(n(k,{layout:!0,direction:"column",alignItems:"start",topLeft:()=>t.topLeft().transformAsPoint(t.worldToLocal()).add(50),children:[n(k,{layout:!0,margin:10,children:[n(C,{text:"Sorted Array:",...E,marginRight:50}),n(A,{size:[200,60],fill:new D(i.green).alpha(.02),stroke:i.green,radius:10,lineWidth:6})]}),n(k,{layout:!0,margin:10,children:[n(C,{text:"Current Array:",...E,marginRight:20}),n(A,{size:[200,60],fill:new D(i.blue).alpha(.02),stroke:i.blue,radius:10,lineWidth:6})]})]})),t.add(N(x,f,m-f,o,y,4*a.outlineMargin,(Math.pow(c-d,2)+1)*a.outlineMargin)),t.add([G(o,M,i.surface,a.outlineMargin,0),G(y,h,i.surface,a.outlineMargin,0)]),o().y(o().y()+50),y().y(y().y()+50),yield*L(o().y(o().y()-50,.3),y().y(y().y()-50,.3),M().opacity(1,.3),h().opacity(1,.3)),yield*L(S(.1,...s.slice(0,f).map((r,p)=>r.topLeft(W(o,p,b(a)),.2))),S(.1,...s.slice(f).map((r,p)=>r.topLeft(W(y,p,b(a)),.2)))),yield*I(t,c,f,o,M(),s.slice(0,f),d+1,l),yield*R(.5),yield*I(t,c,m-f,y,h(),s.slice(f),d+1,l);const F=B(H(s.map(r=>parseInt(r.childAs(0).text(),10))));{const r=s.slice();F.forEach((p,T)=>s[p]=r[T])}yield*S(.2,...s.map((r,p)=>r.topLeft(W(x,p,b(a)),.3))),yield*L(M().opacity(0,.3),h().opacity(0,.3)),yield*R(.5),yield*l.stroke(i.green,.3),e&&(yield*e.restore(.3)),yield*R(.5),[o,y,M,h].forEach(r=>r().remove())}const g=X(function*(t){const c=w().variables.get("seed",42),m=w().variables.get("size",7)(),x=J(c());let l=z(m).map(o=>x.nextInt(1,99));const s=[],d=u(),e=u();t.fill(i.background),t.add([n(k,{ref:d,opacity:1,width:l.length*b(a)-a.boxGap,height:a.boxWidth,y:-200}),G(d,e,i.surface,a.outlineMargin,1)]),t.add(z(l.length).map(o=>n(A,{ref:Y(s,o),size:a.boxWidth,lineWidth:a.boxStrokeWidth,stroke:i.surface,fill:i.background,radius:a.boxRadius,topLeft:W(d,o,b(a)),alignItems:"center",justifyContent:"center",children:n(C,{text:l[o].toString(),...E})})));const f=Math.ceil(Math.log2(m));yield*I(t,f,m,d,e(),s),yield*L(e().stroke(i.surface,.3),S(.1,...s.map(o=>o.fill(i.green,.3)))),yield*R(1)});g.name="recursiveMergeSort";K.attach(g.meta);g.onReplaced??(g.onReplaced=new q(g.config));export{g as d};
