import{M as D,E as d,T as W,I as h,L as z,r as k,j as u,b as G,R as S,U as L,a as g,F as m,m as O,u as H,q as F,c as A,W as P,J as _,w as j,V as $,d as q,f as M,s as T}from"../../_virtual_settings-DVCYLlHS.js";import{C as a,T as x,t as B,u as E,s as U}from"../../styles-DiP1wR1d.js";let V;V??(V=new D("selectionSort",!1));V.loadData({version:0,shared:{background:null,range:[0,null],size:{x:1920,y:500},audioOffset:0},preview:{fps:30,resolutionScale:1},rendering:{fps:60,resolutionScale:1,colorSpace:"srgb",exporter:{name:"@motion-canvas/core/image-sequence",options:{fileType:"image/png",quality:100,groupByScene:!1}}}});const J=V;let R;R??(R=new D("selectionSort",!1));R.loadData({version:0,timeEvents:[],seed:3911136328});const N=R;var K=Object.defineProperty,f=(v,e,i,l)=>{for(var s=void 0,t=v.length-1,o;t>=0;t--)(o=v[t])&&(s=o(e,i,s)||s);return s&&K(e,i,s),s};class p extends z{constructor(e){super({layout:!0,gap:()=>this.boxGap(),spawner:()=>(console.log(`spawner: ${Date.now()}`),this.rects.slice(0,this.length())),...e}),this.length=()=>this.values().length,this.rectsView=(i=0,l=this.length())=>this.rects.slice(i,l),this.rects=[],this.pool=k(64).map(i=>u(S,{ref:G(this.rects,i),size:this.boxWidth(),lineWidth:this.boxStrokeWidth,stroke:a.surface,fill:this.fillColor,radius:this.boxRadius,alignItems:"center",justifyContent:"center",children:u(x,{text:()=>this.values()[i].toString(),...B})}))}*highLightAt(e,i,l=this.highlightColor(),s=L){yield*this.rects[e].stroke(l,i,s)}*highLightAll(e,i=this.highlightColor(),l=L){yield*g(...k(this.values.length).map(s=>this.highLightAt(s,e,i,l)))}*deHighLightAt(e,i,l=this.strokeColor(),s=L){yield*this.rects[e].stroke(l,i,s)}*deHighLightAll(e,i=this.strokeColor(),l=L){yield*g(...k(this.values.length).map(s=>this.deHighLightAt(s,e,i,l)))}addLast(e){this.values([...this.values(),e])}removeLast(){this.values(this.values().slice(0,this.values().length-1))}addFirst(e){this.values([e,...this.values()])}removeFirst(){this.values(this.values().slice(1))}insertAt(e,i){this.values([...this.values().slice(0,e),i,...this.values().slice(e)])}removeAt(e){const i=this.values()[e];return this.values([...this.values().slice(0,e),...this.values().slice(e+1)]),i}*swap(e,i,l){let s=this.rects[e].clone(),t=this.rects[i].clone();this.parent().add(s),this.parent().add(t),s.absolutePosition(this.rects[e].absolutePosition()),t.absolutePosition(this.rects[i].absolutePosition());const o=this.rects[e].opacity(),w=this.rects[i].opacity();this.rects[e].opacity(0),this.rects[i].opacity(0),yield*l(s,t),s.remove(),t.remove(),[this.rects[e],this.rects[i]]=[this.rects[i],this.rects[e]];let C=this.rects[e].children();this.rects[e].children(this.rects[i].children()),this.rects[i].children(C);let c=[...this.values()];[c[e],c[i]]=[c[i],c[e]],this.values(c),this.rects[e].opacity(o),this.rects[i].opacity(w)}*swapUpDown(e,i,l){const s=this.boxGap()+this.boxWidth();yield*this.swap(e,i,function*(t,o){yield*g(t.y(t.y()-s,.5),o.y(o.y()-s,.5)),yield*g(t.x(o.x(),l),o.x(t.x(),l)),yield*g(t.y(t.y()+s,.5),o.y(o.y()+s,.5))})}}f([d([]),m()],p.prototype,"values");f([d(128),m()],p.prototype,"boxWidth");f([d(128),m()],p.prototype,"boxHeight");f([d(28),m()],p.prototype,"boxGap");f([d(4),m()],p.prototype,"boxRadius");f([d(8),m()],p.prototype,"boxStrokeWidth");f([d(new h(a.blue)),W()],p.prototype,"highlightColor");f([d(new h(a.surface)),W()],p.prototype,"strokeColor");f([d(new h(a.background)),W()],p.prototype,"fillColor");const b=O(function*(v){const e=H().variables.get("seed",42),i=H().variables.get("size",8),l=E(e()),s=k(i()).map(r=>l.nextInt(1,70)),t=A(),o=A(),w=A(),C=F(0),c=F(0);v.fill(a.background),v.add(u(_,{children:[u(p,{ref:t,values:s,highlightColor:new h(a.blue),strokeColor:new h(a.surface),fillColor:new h(a.background)}),u(P,{ref:o,x:()=>t().left().x+t().boxWidth()/2+C()*(t().boxWidth()+t().boxGap()),y:t().boxHeight()/2+20,children:[u(S,{stroke:a.blue,lineWidth:4,radius:4,width:t().boxWidth(),height:2,opacity:1}),u(x,{fill:a.whiteLabel,text:()=>`i = ${Math.ceil(C())}`,scale:.8,y:30})]}),u(P,{ref:w,x:()=>t().left().x+t().boxWidth()/2+c()*(t().boxWidth()+t().boxGap()),y:-t().boxHeight()/2-20,children:[u(S,{stroke:a.blue,lineWidth:4,radius:4,width:t().boxWidth(),height:2,opacity:1}),u(x,{fill:a.whiteLabel,text:()=>`j = ${Math.ceil(c())}`,scale:.8,y:-30})]})]})),yield*j(1);for(let r=0;r<t().length();r++){yield*C(r,.5);let n=r;yield*t().rectsView()[n].fill(t().highlightColor,.5),r+1<t().length()&&(c(r+1),yield*w().opacity(1,.3));for(let y=r+1;y<t().length();y++)yield*g(t().highLightAt(y,.5),c(y,.5)),t().values()[n]>t().values()[y]?(yield*g(t().rectsView()[n].fill(new h(a.transparent),.5),t().rectsView()[y].fill(t().highlightColor,.5),t().deHighLightAt(y,.5)),n=y):yield*t().deHighLightAt(y,.5);yield*w().opacity(0,.3),r!=n?(yield*g(t().rectsView()[n].fill(new h(a.transparent),.5),t().highLightAt(n,.5)),yield*t().swapUpDown(r,n,.5),yield*g(t().deHighLightAt(r,.5),t().deHighLightAt(n,.5))):yield*t().rectsView()[n].fill(new h(a.transparent),.5),yield*t().rectsView()[r].stroke(new h(a.green),.5)}yield*g(o().opacity(0,.3),w().opacity(0,.3)),yield*j(.5),yield*U(.1,...t().rectsView().map(r=>r.fill(new h(a.green),.3)))});b.name="selectionSort";N.attach(b.meta);b.onReplaced??(b.onReplaced=new $(b.config));const Q=q({scenes:[b],variables:{size:8,seed:42}}),Z=M("selectionSort",{core:"3.17.2",two:"3.17.2",ui:"3.17.2",vitePlugin:"3.17.2"},[],Q,J,T);export{Z as default};
